{% extends 'base.html.twig' %}

{% block title %}Swift Transfer - Home{% endblock %}

{% block body %}
<div class="text-center text-3xl mt-4">
    Hello {{ app.user.displayedName}}
</div>
<div class="w-1/3 bg-white rounded-lg mx-auto my-4">
    <div class="flex justify-center text-2xl">
        Your balance : 
    </div>
    <div class="flex justify-center text-2xl">
        ${{ app.user.balance }}
    </div>
</div>
<div class="w-1/3 p-4 bg-white rounded-lg mx-auto max-h-96 overflow-y-scroll my-4">
    <div class="flex justify-center text-2xl">
        Your contacts: 
    </div>
    {% for contact in app.user.contact|sort((a, b) => a.username <=> b.username) %}
        <a href="{{ path('app_profile', {'username':contact.username}) }}">
            <li class="mt-3 bg-purple-500 rounded-2xl text-white">
                <img src="{{ asset('build/images/avatar/' ~ contact.avatar) }}" class="inline-block h-6 w-6 rounded-full mx-2 mb-1">
                <span class="font-semibold">{{ contact.displayedName }}
                    <span class="ml-2 font-normal text-md">@{{ contact.username }}</span>
                </span>
            </li>
        </a>
    {% else %}
        <div class="my-3 text-center">
            You don't have any contact
        </div>
    {% endfor %}
</div>
{% endblock %}
